<script>
// ===== Caminho da pasta de ícones (igual ao seu) =====
const ICON_BASE = 'Faction_Icons/'; // atenção ao "I" maiúsculo

// ===== Mapa de aliases -> nome EXATO do arquivo (sem .png) =====
const aliasMap = {
  // Base set
  'Arborec':'Arborec',
  'Barony of Letnev':'Letnev','The Barony of Letnev':'Letnev','Letnev':'Letnev',
  'Clan of Saar':'Saar','The Clan of Saar':'Saar','Saar':'Saar',
  'Embers of Muaat':'Muaat','The Embers of Muaat':'Muaat','Muaat':'Muaat',
  'Emirates of Hacan':'Hacan','The Emirates of Hacan':'Hacan','Hacan':'Hacan',
  'Federation of Sol':'Sol','The Federation of Sol':'Sol','Sol':'Sol',
  'Ghosts of Creuss':'Creuss','The Ghosts of Creuss':'Creuss','Creuss':'Creuss',
  'L1Z1X Mindnet':'L1Z1X','The L1Z1X Mindnet':'L1Z1X','L1Z1X':'L1Z1X',
  'Mentak Coalition':'Mentak','The Mentak Coalition':'Mentak','Mentak':'Mentak',
  'Naalu Collective':'Naalu','The Naalu Collective':'Naalu','Naalu':'Naalu',
  'Nekro Virus':'Nekro','The Nekro Virus':'Nekro','Nekro':'Nekro',
  'Sardakk N’orr':'Sardakk','Sardakk Norr':'Sardakk','Sardakk':'Sardakk',
  'Universities of Jol-Nar':'Jol Nar','The Universities of Jol-Nar':'Jol Nar','Jol-Nar':'Jol Nar','Jol Nar':'Jol Nar','JolNar':'Jol Nar',
  'Winnu':'Winnu','The Winnu':'Winnu',
  'Xxcha Kingdom':'Xxcha','The Xxcha Kingdom':'Xxcha','Xxcha':'Xxcha',
  'Yin Brotherhood':'Yin','The Yin Brotherhood':'Yin','Yin':'Yin',
  'Yssaril Tribes':'Yssaril','The Yssaril Tribes':'Yssaril','Yssaril':'Yssaril',

  // Prophecy of Kings
  'Argent Flight':'Argent','Argent':'Argent',
  'Empyrean':'Empyrean',
  'Mahact Gene-Sorcerers':'Mahact','The Mahact Gene-Sorcerers':'Mahact','Mahact':'Mahact',
  'Naaz-Rokha Alliance':'Naaz-Rokha','Naaz-Rokha':'Naaz-Rokha','NaazRokha':'Naaz-Rokha',
  'The Nomad':'Nomad','Nomad':'Nomad',
  'Titans of Ul':'Titans','The Titans of Ul':'Titans','Titans':'Titans',
  "Vuil'raith Cabal":"Vuil'Raith","The Vuil'raith Cabal":"Vuil'Raith","Vuil'raith":"Vuil'Raith",

  // Keleres
  'Council Keleres':'Keleres','Keleres':'Keleres'
};

function canonFactionName(raw){
  if(!raw) return null;
  const clean = String(raw).replace(/^the\s+/i,'').replace(/\s+/g,' ').trim();
  return aliasMap[clean] || clean;
}

// usa encodeURI para lidar com espaços e apóstrofos (ex.: "Jol Nar", "Vuil'Raith")
function factionIconPath(name){
  const key = canonFactionName(name);
  if(!key) return null;
  return encodeURI(ICON_BASE + key + '.png');
}
</script>
